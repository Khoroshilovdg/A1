---
import BaseLayout from '../layouts/BaseLayout.astro'; // импортируем макет для использования на странице
const pageTitle = "Playlist";


---

<BaseLayout pageTitle={pageTitle}>
<p>Top 10 songs</p>
<div>
    <label>Add your song</label>
    <input id = "newSong" type="text" name="name" placeholder="Song Title" required />
    <button onclick="submit()" id="myButton">&#127381</button>
    <button onclick="shuffle()" id="myButton2">&#128256</button>
</div>
<ul id="topSongs"></ul>
<script>
    let x = ['1','2','3','4','5','6','7','8','9','10'];
    let list = document.getElementById("topSongs");
            x.forEach((item) => {
            let li = document.createElement("li");
            li.innerText = item;
            list.appendChild(li);
            });
    document.getElementById('myButton').onclick = addSong;
    function addSong() {
        let addSong = document.getElementById('newSong').value;
        if (addSong == "") {
            alert('введите название песни');
        }
        else if (addSong != "") {
            list.innerHTML = '';
            x.push(addSong);
        
            let list2 = document.getElementById("topSongs");
            x.forEach((item) => {
            let li = document.createElement("li");
            li.innerText = item;
            list2.appendChild(li);
            });
        }
        document.getElementById('newSong').value = "";
        console.log(x);
    }
    document.getElementById('myButton2').onclick = shuffleSong;
    function shuffleSong() {
        list.innerHTML = '';
        let shuffle = function(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            let tmp = arr[i];
            let rnd = Math.floor(Math.random() * (i + 1));
            arr[i] = arr[rnd];
            arr[rnd] = tmp;
        }
            let list3 = document.getElementById("topSongs");
            x.forEach((item) => {
            let li = document.createElement("li");
            li.innerText = item;
            list3.appendChild(li);
            });
        //return arr;
    }
    for (let i = 0; i < 10; i++) {
        console.log(shuffle(x).join(','));
    }
    }
    document.getElementById('newSong').value = "";
        
</script>


</BaseLayout>

